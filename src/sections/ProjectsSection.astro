---
import { MdOutlineArrowRightAlt } from 'react-icons/md';

import Subtitle from '@/components/Subtitle.astro';
import Project from '@/components/project/Project.astro';
import { getLangFromUrl, useTranslations } from '@/i18n/utils';
import { projects } from '@/projects';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section class='mt-[70px]' id='projects'>
  <Subtitle>
    {t('intro.navigation.projects')}
  </Subtitle>

  <!-- TODO: Translate projects description -->
  <div class='flex flex-col gap-5 mt-5 max-w-full overflow-hidden'>
    {
      projects.map((project, i) => (
        <Project {...project} lazy={i >= 2} index={i} />
      ))
    }
  </div>

  <a
    href='https://github.com/LugpDev2022?tab=repositories'
    class='projects-link'
    target='_blank'
    rel='noreferrer'
  >
    {t('projects.link')}
    <MdOutlineArrowRightAlt size={30} />
  </a>
</section>
